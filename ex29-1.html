<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ex29-1</title>
    <style>

    </style>
</head>
<body>
    <!-- 
        ex29-1.html

        다량의 태그에 일괄적으로 이벤트 적용시 생기는 상황
     -->

     <img src="images/cat01.jpg" name="img" value="1">
     <img src="images/cat02.jpg" name="img" value="2" >
     <img src="images/cat03.jpg" name="img"value="3">

     <script>

        // document.img;
         var img = document.all.img;

        //  alert(img.length);

        for(var i = 0; i < img.length; i++) {

            // img[0].onclick = function(){alert(i);}; // alert(0)이 아니라 alert(i);
            // img[1].onclick = function(){alert(i);};
            // img[2].onclick = function(){alert(i);};
            // end loop -> i = 3;


            // 이벤트 헨들러(역할)
            // i번째 이미지 태그의 멤버 메소드(구문)
            img[i].onclick = function() {

                // event.srcElemnt >> this
                
                // alert();
                // 누가 나를 불렀는가?
                // 3개의 이미지 중 어떤 이미지를 클릭했을 때 이 함수가 호출됨?

                // 지금 이벤트(onclick)을 발생시킨 주체? -> 이미지 중 하나
                // alert(event.srcElement.src);

                // Uncaught TypeError: Cannot read property 'src' of undefined
                // 나중에 이미지를 클릭할 때 클릭한 이미지를 접근하기 위해서 img[i]표현을 사용 -> 루프변수 i의 상태가 루프를 진행할 때 당시의 값이 아니기 때문에 사용 불가.
                // alert(img[i].src);

                alert(i);
                // 1값이 모두 3이 나온다. 왜 0,1,2가 이닌가?
                // -> 시간차 때문
            }
        }
         
     </script>
</body>
</html>