<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ex16_event_key</title>
    <style>
        textarea { width: 500px; height: 300px; resize: none;}
    </style>
  </head>
  <body>
    <!-- 
        ex16_event_key.html

        키 이벤트
        - 키보드의 키와 관련된 이벤트
        - onkeyXXX
        - 주로 폼 관련 태그에게 적용(포커스를 가지지 않으면 발생하지 않기 때문)

        1. onkeydown(*****)
            - 키를 눌렀을 때 발생
            - 물리적 키에 반응하는 이벤트
            - 현재 어떤 글자를 눌렀는지 중요하지 않음. 어떤 물리키를 눌렀는지가 중요함
            - 중요: 현재 입력한 값과 상관없는 일 -> keydown 사용

        2. onkeyup
            - 키를 뗐을 때 발생
            - 중요: 현재 입력한 값을 알아야 되는 일. 즉, 현재 입력한 값이 중요 -> keyup사용

        3. onkeypress(x)
            - 키를 눌렀을 때 발생
            - 문자키에 반응하는 이벤트(ASCII문자 + 영어 + 숫자 + 특수문자)
     -->

    <h1>키 이벤트</h1>

    <form name="form1">

        <textarea name='txt1'></textarea>

    <!--
        <img src="images/cat01.jpg"
            onkeydown="//alert('img');"
            onclick="alert('img');"
            onmousedown="//alert('img');">
        <input type="text"
            onkeydown="alert('text');"
            onclick="alert('text');"
            onmousedown="alert('text');">
    -->
      <fieldset>
          <legend>키 이벤트</legend>
          <!-- 
              텍스트박스: txtName
              체크박스: cbName
              라디오버튼: rbName
              셀렉트박스:  selName
           -->
          <div>
              <input type="text" name="txtOrigin" size="50">
          </div>
          <div>
              <input type="text" name="txtCopy" size="50">
          </div>
      </fieldset>
    </form>
    <script>
        var txt1 = window.document.form1.txt1;

        var txtOrigin = window.document.form1.txtOrigin;
        var txtCopy = window.document.form1.txtCopy;

        // txtOrigin.value = "test";

        //txt1에 onkeydown이 발생하면 funciton이 실행됨. 이때의 function은 이벤트 함수라고 부름
        txt1.onkeydown = function() { 
            // alert();
            // console.log('keydown');

            // event 객체
            // - 이벤트가 발생할 때만 참조할 수 있는 객체
            // console.log(event.keyCode); // 누른 키의 문자코드값
            console.log(txt1.value);
        }

        txt1.onkeyup = function() {
            // console.log('keyup');
        }

        txt1.onkeypress = function() {
            // console.log('keypress');
            // console.log(event.keyCode);
        }


        /*
            순서

            1. 키 누르기
            2. onkeydown 이벤트 발생
            3. 키 입력
                        ------------> onkeydown이벤트가 키 입력보다 먼저 발생한다. -> 한 박자 늦게 복사되는 것 처럼 느껴짐
            4. 키 떼어짐
            5. onkeyup 이벤트 발생
        */
        txtOrigin.onkeydown = function() {
            // txtCopy.value = txtOrigin.value; // 한 박자 늦게 복사됨
        }

        txtOrigin.onkeyup = function() {
            txtCopy.value = txtOrigin.value; // 바로바로 복사됨
        }
        

    </script>
  </body>
</html>
